//
//  BuscaASMEspecialidades.m
//  BuscaASM
//
//  Created by Bruno Amaral on 7/7/12.
//  Copyright (c) 2012 __MyCompanyName__. All rights reserved.
//

#import "BuscaASMEspecialidades.h"
#import "SBJSON.h"

@implementation BuscaASMEspecialidades {
    NSArray *_especialidades ;
}

- (BuscaASMEspecialidades*) initWithJsonString:(NSString*) jsonString
{
    self = [super init] ;
    NSArray *jsonEspecialidades = [jsonString JSONValue];
    NSMutableArray * arrEspecialidades = [[NSMutableArray alloc] initWithCapacity:[jsonEspecialidades count]] ;
    for (NSDictionary *json in jsonEspecialidades) {
        NSDictionary *dic1 = [json objectForKey:@"especialidade"];
        NSString *especialidade = [dic1 objectForKey:@"especialidade"] ;
        
        [arrEspecialidades addObject:especialidade] ;
    }
    _especialidades = [NSArray arrayWithArray:arrEspecialidades];
    return self ;
}

- (NSArray*) especialidades
{
    /*
    if ( !_especialidades ) {
        NSString *src = @"[{\"especialidade\":{\"especialidade\":\"ACUPUNTURA\"}},{\"especialidade\":{\"especialidade\":\"ALERGIA E IMUNOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"ALERGIA/IMUNO PEDIATRICA\"}},{\"especialidade\":{\"especialidade\":\"ANESTESIOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"ANGIOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"AUXILIAR DO CIRURGIAO\"}},{\"especialidade\":{\"especialidade\":\"CANCEROLOGIA/ONCOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"CARDIOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"CIR CARDIOVASCULAR\"}},{\"especialidade\":{\"especialidade\":\"CIR DA CABECA E PESCOCO\"}},{\"especialidade\":{\"especialidade\":\"CIR GERAL\"}},{\"especialidade\":{\"especialidade\":\"CIR PEDIATRICA\"}},{\"especialidade\":{\"especialidade\":\"CIR PLASTICA REPARADORA\"}},{\"especialidade\":{\"especialidade\":\"CIR TORACICA\"}},{\"especialidade\":{\"especialidade\":\"CIR TRAUM BUCO-MAXILO-FAC\"}},{\"especialidade\":{\"especialidade\":\"CIR VIDEOLAPAROSCOPICA\"}},{\"especialidade\":{\"especialidade\":\"CIRURG.APARELHO DIGESTIVO\"}},{\"especialidade\":{\"especialidade\":\"CIRURGIA DE MAO\"}},{\"especialidade\":{\"especialidade\":\"CIRURGIA VASCULAR\"}},{\"especialidade\":{\"especialidade\":\"CLIN ATEND AMBULATORIAL\"}},{\"especialidade\":{\"especialidade\":\"CLIN.INFUSAO MEDIC N/ONCO\"}},{\"especialidade\":{\"especialidade\":\"CLIN.MEDIC.FISICA-REABIL.\"}},{\"especialidade\":{\"especialidade\":\"CLINICA EMERGENCIA ODONTO\"}},{\"especialidade\":{\"especialidade\":\"CLINICA MEDICA\"}},{\"especialidade\":{\"especialidade\":\"CLINICA ODONTOLOGICA\"}},{\"especialidade\":{\"especialidade\":\"CLINICO AUTORIZACAO ESPEC\"}},{\"especialidade\":{\"especialidade\":\"COLOPROCTOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"DERMATOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"ENDOCRINOLOGIA METABOLOGI\"}},{\"especialidade\":{\"especialidade\":\"ENDODONTIA\"}},{\"especialidade\":{\"especialidade\":\"ENDOSCOPIA\"}},{\"especialidade\":{\"especialidade\":\"ESTOMATOLOGIA/PAT BUCAL\"}},{\"especialidade\":{\"especialidade\":\"FISIOTERAPIA\"}},{\"especialidade\":{\"especialidade\":\"FONOAUDIOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"GASTROENTEROLOGIA\"}},{\"especialidade\":{\"especialidade\":\"GENETICA MEDICA\"}},{\"especialidade\":{\"especialidade\":\"GERIATRIA\"}},{\"especialidade\":{\"especialidade\":\"GINECOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"GINECOLOGIA E OBSTETRICIA\"}},{\"especialidade\":{\"especialidade\":\"HEMATOLOGIA E HEMOTERAPIA\"}},{\"especialidade\":{\"especialidade\":\"HOMEOPATIA\"}},{\"especialidade\":{\"especialidade\":\"HOMEOPATIA PEDIATRICA\"}},{\"especialidade\":{\"especialidade\":\"HOSP/CLIN ATEND GERAL\"}},{\"especialidade\":{\"especialidade\":\"HOSP/CLIN CIR BARIATRICA\"}},{\"especialidade\":{\"especialidade\":\"HOSP/CLIN CIRURGIA GERAL\"}},{\"especialidade\":{\"especialidade\":\"HOSP/CLIN EMERG ORTOPEDIC\"}},{\"especialidade\":{\"especialidade\":\"HOSP/CLIN EMERG PEDIATRIC\"}},{\"especialidade\":{\"especialidade\":\"HOSP/CLIN ESP LITOTRIPSIA\"}},{\"especialidade\":{\"especialidade\":\"HOSP/CLIN ESPEC CARDIOLOG\"}},{\"especialidade\":{\"especialidade\":\"HOSP/CLIN ESPEC DEP QUIMI\"}},{\"especialidade\":{\"especialidade\":\"HOSP/CLIN ESPEC EMERGENCI\"}},{\"especialidade\":{\"especialidade\":\"HOSP/CLIN ESPEC OBSTETRIC\"}},{\"especialidade\":{\"especialidade\":\"HOSP/CLIN ESPEC OFTALMO\"}},{\"especialidade\":{\"especialidade\":\"HOSP/CLIN ESPEC ONCOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"HOSP/CLIN ESPEC ORTOPEDIA\"}},{\"especialidade\":{\"especialidade\":\"HOSP/CLIN ESPEC OTORRINO\"}},{\"especialidade\":{\"especialidade\":\"HOSP/CLIN ESPEC PEDIATRIA\"}},{\"especialidade\":{\"especialidade\":\"HOSP/CLIN ESPEC PSIQUIATR\"}},{\"especialidade\":{\"especialidade\":\"IMAGINOL/RADIOLOGIA ODONT\"}},{\"especialidade\":{\"especialidade\":\"IMPLANTODONTIA\"}},{\"especialidade\":{\"especialidade\":\"INFECTOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"LAB ANATOMIA PATOLOGICA\"}},{\"especialidade\":{\"especialidade\":\"LAB.A.CLI/AN.PAT/RADIOIMU\"}},{\"especialidade\":{\"especialidade\":\"LAB.DE ANALISES CLINICAS\"}},{\"especialidade\":{\"especialidade\":\"MASTOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"MEDICINA FISICA E REABILI\"}},{\"especialidade\":{\"especialidade\":\"METODOS COMPL CARDIOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"METODOS COMPL OFTALMOLOGI\"}},{\"especialidade\":{\"especialidade\":\"NEFROLOGIA\"}},{\"especialidade\":{\"especialidade\":\"NEONATAL/TERAPIA INTENSIV\"}},{\"especialidade\":{\"especialidade\":\"NEUROCIRURGIA\"}},{\"especialidade\":{\"especialidade\":\"NEUROLOGIA\"}},{\"especialidade\":{\"especialidade\":\"NEUROLOGIA PEDIATRICA\"}},{\"especialidade\":{\"especialidade\":\"NUTRICAO\"}},{\"especialidade\":{\"especialidade\":\"OBSTETRICIA\"}},{\"especialidade\":{\"especialidade\":\"ODONTO PACIENTE ESPECIAL\"}},{\"especialidade\":{\"especialidade\":\"ODONTOPEDIATRIA\"}},{\"especialidade\":{\"especialidade\":\"OFTALMOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"ONCOLOGIA PEDIATRICA\"}},{\"especialidade\":{\"especialidade\":\"ORTO FUNC DOS MAXILARES\"}},{\"especialidade\":{\"especialidade\":\"ORTODONTIA\"}},{\"especialidade\":{\"especialidade\":\"ORTOPEDIA E TRAUMATOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"ORTOPEDIA PEDIATRICA\"}},{\"especialidade\":{\"especialidade\":\"OTORRINOLARINGOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"PEDIATRIA\"}},{\"especialidade\":{\"especialidade\":\"PERIODONTIA\"}},{\"especialidade\":{\"especialidade\":\"PNEUMOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"PROTESE DENTARIA\"}},{\"especialidade\":{\"especialidade\":\"PSICOTERAPIA\"}},{\"especialidade\":{\"especialidade\":\"PSICOTERAPIA INFANTIL\"}},{\"especialidade\":{\"especialidade\":\"PSIQUIATRIA\"}},{\"especialidade\":{\"especialidade\":\"REUMATOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"S.OXIGENOTERAP.HIPERBARIC\"}},{\"especialidade\":{\"especialidade\":\"SER.ANGIOL.E CIR.VASC.PER\"}},{\"especialidade\":{\"especialidade\":\"SERV ALERGIA/IMUNOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"SERV ANESTESIA -COOP/CLIN\"}},{\"especialidade\":{\"especialidade\":\"SERV ATENCAO DOMICILIAR\"}},{\"especialidade\":{\"especialidade\":\"SERV AUDIOMETRIA/OTONEURO\"}},{\"especialidade\":{\"especialidade\":\"SERV CIR CABECA E PESCOCO\"}},{\"especialidade\":{\"especialidade\":\"SERV CIR VIDEOLAPAROSCOP\"}},{\"especialidade\":{\"especialidade\":\"SERV DE CIRURGIA GERAL\"}},{\"especialidade\":{\"especialidade\":\"SERV DE CIRURGIA PLASTICA\"}},{\"especialidade\":{\"especialidade\":\"SERV DE CITOPATOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"SERV DE DERMATOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"SERV DE ENDOCRINOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"SERV DE GINECO E OBST\"}},{\"especialidade\":{\"especialidade\":\"SERV DE NEFROLOGIA\"}},{\"especialidade\":{\"especialidade\":\"SERV DE NEUROCIRURGIA\"}},{\"especialidade\":{\"especialidade\":\"SERV DE NEUROLOGIA\"}},{\"especialidade\":{\"especialidade\":\"SERV DE OFTALMOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"SERV DE ONCOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"SERV DE OTORRINO\"}},{\"especialidade\":{\"especialidade\":\"SERV DE PEDIATRIA E PUER.\"}},{\"especialidade\":{\"especialidade\":\"SERV DE PNEUMOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"SERV DE RADIOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"SERV DE RADIOTERAPIA\"}},{\"especialidade\":{\"especialidade\":\"SERV DE REMOCAO TERRESTRE\"}},{\"especialidade\":{\"especialidade\":\"SERV DE REUMATOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"SERV DE TOMOGRAFIA\"}},{\"especialidade\":{\"especialidade\":\"SERV DE ULTRASSONOGRAFIA\"}},{\"especialidade\":{\"especialidade\":\"SERV DE UROLOGIA\"}},{\"especialidade\":{\"especialidade\":\"SERV DENSITOMETRIA OSSEA\"}},{\"especialidade\":{\"especialidade\":\"SERV EEG/NEUROFISIOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"SERV ENDOSCOPIA PER-ORAL\"}},{\"especialidade\":{\"especialidade\":\"SERV GASTRO/PROCTOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"SERV MEDICINA NUCLEAR\"}},{\"especialidade\":{\"especialidade\":\"SERV ORTOP TRAUMATOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"SERV RESSONANCIA MAGNETIC\"}},{\"especialidade\":{\"especialidade\":\"SERV TERAPIA OCUPACIONAL\"}},{\"especialidade\":{\"especialidade\":\"SERV.DE CIRURGIA CARDIACA\"}},{\"especialidade\":{\"especialidade\":\"SERV.HEMOTERAP/HEMATOLOG.\"}},{\"especialidade\":{\"especialidade\":\"SERVI?O DE PSIQUIATRIA\"}},{\"especialidade\":{\"especialidade\":\"SERVICO DE CARDIOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"SERVICO DE FISIOTERAPIA\"}},{\"especialidade\":{\"especialidade\":\"SERVICO DE FONOAUDIOLOGIA\"}},{\"especialidade\":{\"especialidade\":\"SERVICO DE HEMODIALISE\"}},{\"especialidade\":{\"especialidade\":\"SERVICO DE HEMODINAMICA\"}},{\"especialidade\":{\"especialidade\":\"TERAPIA OCUPACIONAL\"}},{\"especialidade\":{\"especialidade\":\"TODOS SERV DIAGNOS/TRATAM\"}},{\"especialidade\":{\"especialidade\":\"UROLOGIA\"}}]" ;
        NSArray *jsonEspecialidades = [src JSONValue];
        NSLog(@"obj[2] = %@", [jsonEspecialidades objectAtIndex:2]) ;
        NSMutableArray * arrEspecialidades = [[NSMutableArray alloc] initWithCapacity:[jsonEspecialidades count]] ;
        for (NSDictionary *json in jsonEspecialidades) {
            NSDictionary *dic1 = [json objectForKey:@"especialidade"];
            NSString *especialidade = [dic1 objectForKey:@"especialidade"] ;
            
            [arrEspecialidades addObject:especialidade] ;
        }
        _especialidades = [NSArray arrayWithArray:arrEspecialidades];
    }
     */
    return _especialidades ;
}

@end
